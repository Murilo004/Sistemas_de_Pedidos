<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Form POST Spring</title>
</head>
<body>

<h2>Criar Usuário</h2>

<form id="usuarioForm">
    <input type="text" id="nome" placeholder="Nome" required>
    <input type="number" id="idade" placeholder="Idade" required>
    <button type="submit">Enviar</button>
</form>

<p id="resposta"></p>

<script>
    const form = document.getElementById("usuarioForm");
    const resposta = document.getElementById("resposta");

    form.addEventListener("submit", function(e) {
        e.preventDefault(); // evita recarregar a página

        // pegar valores
        const nome = document.getElementById("nome").value;
        const int = parseInt(document.getElementById("idade").value);

        // criar objeto JSON
        const dados = { nome: nome, idade: int };

        // enviar POST
        fetch("http://localhost:8080/usuarios", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(dados)
        })
        .then(resp => resp.text())
        .then(text => {
            resposta.innerText = text; // mostrar a resposta
        })
        .catch(err => {
            resposta.innerText = "Erro ao enviar: " + err;
        });
    });
</script>

</body>
</html>